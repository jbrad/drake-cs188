{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/scottmolloy/Desktop/04 software_engineering/cartTest/hello-next/pages/cart.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport { getCustomersCart } from '../services/cart-item-service';\n\nvar removeItemFromCart = function removeItemFromCart(cartItem) {\n  return _regeneratorRuntime.async(function removeItemFromCart$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(\"http://localhost:5555/cart-items/\".concat(cartItem.cartItemId), {\n            method: 'DELETE'\n          }));\n\n        case 2:\n          location.reload();\n\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar Index = function Index(props) {\n  return __jsx(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }\n  }, props.customer.firstName, \"'s Cart\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }\n  }, \"You have \", props.cartItems.length, \" \", props.cartItems.length === 1 ? 'item' : 'items', \" in your cart.\"), __jsx(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, props.items.map(function (item, index) {\n    return __jsx(\"li\", {\n      key: item.itemId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 17\n      }\n    }, __jsx(Link, {\n      href: \"/items/[itemId]\",\n      as: \"/items/\".concat(item.itemId),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 21\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 25\n      }\n    }, item.description)), __jsx(\"button\", {\n      type: \"button\",\n      onClick: function onClick() {\n        return removeItemFromCart(props.cartItems[index]);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 21\n      }\n    }, \"Remove\"));\n  })), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, \"Current Total: $\", props.items.reduce(function (accum, item) {\n    return accum + item.price;\n  }, 0)), props.items.length === 0 && __jsx(Link, {\n    href: \"/items\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    title: \"Shop!\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, \"Start shopping!\")));\n};\n\nIndex.getInitialProps = getCustomersCart;\nexport default Index;","map":{"version":3,"sources":["/Users/scottmolloy/Desktop/04 software_engineering/cartTest/hello-next/pages/cart.js"],"names":["Link","fetch","getCustomersCart","removeItemFromCart","cartItem","cartItemId","method","location","reload","Index","props","customer","firstName","cartItems","length","items","map","item","index","itemId","description","reduce","accum","price","getInitialProps"],"mappings":";;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAASC,gBAAT,QAAiC,+BAAjC;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACjBH,KAAK,4CAAqCG,QAAQ,CAACC,UAA9C,GAA4D;AACnEC,YAAAA,MAAM,EAAE;AAD2D,WAA5D,CADY;;AAAA;AAIvBC,UAAAA,QAAQ,CAACC,MAAT;;AAJuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA3B;;AAQA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK;AAAA,SACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,KAAK,CAACC,QAAN,CAAeC,SAApB,YADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAaF,KAAK,CAACG,SAAN,CAAgBC,MAA7B,OAAsCJ,KAAK,CAACG,SAAN,CAAgBC,MAAhB,KAA2B,CAA3B,GAA+B,MAA/B,GAAwC,OAA9E,mBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,KAAK,CAACK,KAAN,CAAYC,GAAZ,CAAgB,UAACC,IAAD,EAAOC,KAAP;AAAA,WACb;AAAI,MAAA,GAAG,EAAED,IAAI,CAACE,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC,iBAAX;AAA6B,MAAA,EAAE,mBAAYF,IAAI,CAACE,MAAjB,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIF,IAAI,CAACG,WAAT,CADJ,CADJ,EAII;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE;AAAA,eAAMjB,kBAAkB,CAACO,KAAK,CAACG,SAAN,CAAgBK,KAAhB,CAAD,CAAxB;AAAA,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,CADa;AAAA,GAAhB,CADL,CAHJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAoBR,KAAK,CAACK,KAAN,CAAYM,MAAZ,CAAmB,UAACC,KAAD,EAAQL,IAAR;AAAA,WAAiBK,KAAK,GAAGL,IAAI,CAACM,KAA9B;AAAA,GAAnB,EAAwD,CAAxD,CAApB,CAbJ,EAcKb,KAAK,CAACK,KAAN,CAAYD,MAAZ,KAAuB,CAAvB,IACD,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,KAAK,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,CAfJ,CADe;AAAA,CAAnB;;AAuBAL,KAAK,CAACe,eAAN,GAAwBtB,gBAAxB;AAEA,eAAeO,KAAf","sourcesContent":["import Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport { getCustomersCart } from '../services/cart-item-service';\n\nconst removeItemFromCart = async (cartItem) => {\n    await fetch(`http://localhost:5555/cart-items/${cartItem.cartItemId}`, {\n        method: 'DELETE'\n    })\n    location.reload(); \n};\n\n\nconst Index = props => (\n    <section>\n        <h1>{props.customer.firstName}'s Cart</h1>\n        <p>You have {props.cartItems.length} {props.cartItems.length === 1 ? 'item' : 'items'} in your cart.</p>\n        <ul>\n            {props.items.map((item, index) => (\n                <li key={item.itemId}>\n                    <Link href=\"/items/[itemId]\" as={`/items/${item.itemId}`}>\n                        <a>{item.description}</a>\n                    </Link>\n                    <button type=\"button\" onClick={() => removeItemFromCart(props.cartItems[index])}>Remove</button>\n                </li>\n            ))}\n        </ul>\n        <p>Current Total: ${props.items.reduce((accum, item) => accum + item.price, 0)}</p>\n        {props.items.length === 0 && \n        <Link href=\"/items\">\n            <a title=\"Shop!\">Start shopping!</a>\n        </Link>}\n    </section>\n);\n\n\nIndex.getInitialProps = getCustomersCart;\n\nexport default Index;\n\n"]},"metadata":{},"sourceType":"module"}